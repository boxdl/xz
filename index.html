<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>软件下载</title>
  <style>
    /* CSS 样式与原来一致 */
  </style>
</head>
<body>
  <h1>软件下载</h1>
  <div class="menu">
    <a href="#" class="active">全部</a>
    <a href="#">分类1</a>
    <a href="#">分类2</a>
    <a href="#">分类3</a>
  </div>
  <div class="search-box">
    <form method="get" action="<?php echo $_SERVER['PHP_SELF']; ?>">
      <input type="text" name="keyword" placeholder="搜索..." value="<?php if (isset($_GET['keyword'])) echo htmlspecialchars($_GET['keyword']); ?>">
      <input type="submit" value="搜索">
    </form>
  </div>
  <div class="container">
    <?php
      // 定义软件数据数组
      $softwareData = array(
        array(
          'category' => '分类1',
          'icon' => 'http://example.com/software1.png',
          'name' => '软件1',
          'description' => '这是软件1的描述',
          'downloadLink' => 'http://example.com/software1.exe'
        ),
        array(
          'category' => '分类2',
          'icon' => 'http://example.com/software2.png',
          'name' => '软件2',
          'description' => '这是软件2的描述',
          'downloadLink' => 'http://example.com/software2.exe'
        ),
        array(
          'category' => '分类3',
          'icon' => 'http://example.com/software3.png',
          'name' => '软件3',
          'description' => '这是软件3的描述',
          'downloadLink' => 'http://example.com/software3.exe'
        ),
        // 添加更多软件数据
      );

      // 处理分类菜单和搜索
      $filterCategory = '';
      $keyword = '';
      
      if (isset($_GET['category'])) {
        $filterCategory = $_GET['category'];
      }
      
      if (isset($_GET['keyword'])) {
        $keyword = $_GET['keyword'];
      }

      // 根据分类和关键词筛选软件
      foreach($softwareData as $software) {
        if (($filterCategory === '' || $software['category'] === $filterCategory) && ($keyword === '' || stripos($software['name'], $keyword) !== false || stripos($software['description'], $keyword) !== false)) {
          echo '<div class="software-item" data-category="'.$software['category'].'">
                  <div class="software-icon">
                    <img src="'.$software['icon'].'" alt="">
                  </div>
                  <div class="software-name">'.$software['name'].'</div>
                  <div class="software-description">'.$software['description'].'</div>
                  <a href="'.$software['downloadLink'].'" class="download-btn">下载</a>
                </div>';
        }
      }
    ?>
  </div>
  <script>
    /* JavaScript 部分与原来一致 */
  </script>
</body>
</html>
